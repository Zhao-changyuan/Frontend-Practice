在插入、更新或从DOM中移除项时，Vue提供了多种应用转换效果的方法。这包括以下工具：

*   自动为CSS过渡和动画应用class;

*   集成第三方动画库，例如animate.css

*   在过渡钩子期间使用 JavaScript 直接操作 DOM；

*   集成第三方 JavaScript 动画库；

## 1. 单个元素/组件的过渡

Vue 提供了 `transition` 的封装组件，在下列情形中，可以给任何元素和组件添加进入/离开过渡

*   条件渲染（使用 `v-if`）

*   条件展示（使用 `v-show`）

*   动态组件

*   组件根节点

当插入或删除包含在`transition`组件中的元素时，Vue将会做以下处理：

1.  自动嗅探目标元素是否应用了 CSS 过渡或动画，如果是，在恰当的时机添加/删除CSS类名。

2.  如果过渡组件提供了JavaScript狗子函数，这些钩子函数将在桥当的时机被调用。

### 1.1 过渡 class

1.  `v-enter-from`： 定义进入过渡的开始状态。在元素被插入之前生效，在元素被插入之后的下一帧移除。

2.  `v-enter-active`： 定义进入过渡生效时的状态，在整个进入过渡的阶段中应用，在元素被插入之前生效，在过渡/动画完成之后移除。这个类可以被用来定义进入过渡的的过程时间，延迟和曲线函数。

3.  `v-enter-to`： 定义进入过渡的结束状态。在元素被插入之后下一帧生效（于此同时`v-enterform`被移除），在过渡/动画完成之后移除。

4.  `v-leave-from`： 定义离开过渡的开始状态，在离开过渡被触发时生效，下一帧移除。

5.  `v-leave-active`： 定义离开过渡生效时的状态。在整个离开过渡的阶段中被应用，在离开过渡被触发时立即生效，在过渡/动画完成之后移除。这个类可以被用来定义离开过渡的过程事件，延迟和曲线函数。

6.  `v-leave-to`：离开过渡的结束状态。在离开过渡被触发之后下一帧生效（于此同时`v-leave-from`被移除）,在过渡/动画完成之后移除。

这里的每个class都将以过渡的名字添加前缀。

### 1.2 CSS 过渡

CSS 过渡时最常用的过渡类型之一。

### 1.3 CSS 动画

CSS 动画用法同CSS过渡，区别是在动画中`v-enter-from`类在节点插入DOM后不会立即移除，而是在`animationend`事件触发时移除。

### 1.4 自定义 class类名

我们可以通过以下attribute来自定义过渡类名：

*   `enter-from-class`

*   `enter-active-class`

*   `enter-to-class`

*   `leave-from-class`

*   `leave-active-class`

*   `leave-to-class`

当你希望将其他第三方CSS动画库与Vue的过渡系统向结合时十分有用，比如Animate.css。

### 1.5 同时使用过渡和动画

Vue为了知道过渡何时完成，必须设置相应的事件监听，它可以是`transitionend`或`animationend`这却决于给元素应用的CSS规则。如果你只使用了其中一种，Vue能自动识别其正确类型。
如果你需要给同一个元素同时设置两种过渡动效，你就需要使用`type` attribute并设置`animation`或`transition`来显示声明你需要 Vue 监听的类型。

### 1.6 显性的过渡持续时间

可以用`<transition>`组件上的`duration` prop显式指定过渡持续时间（以毫秒计），你也可以分别指定进入和离开的持续时间。

### 1.7 JavaScript钩子

- @before-enter(el)
- @enter(el, done)，当与CSS结合时，回调函数done是可选的。
- @after-enter(el)
- @enter-cancelled(el)
- @before-leave(el)
- @leave(el, done)，当与CSS结合时，回调函数done是可选的。
- @after-leave(el)
- @leave-cnacelled(el)，只用于 v-show中

这些钩子函数可以结合 CSS transitions、animations使用，也可以单独使用。

当只用 JavaScript过渡的时候，在`enter`和`leave`钩子中必须使用`done`进行回调。否则他们将被同步调用，过渡会立即完成。添加`:css="false"`也会让Vue会跳过CSS的检测，除了性能略高之外，这也可以避免过渡过程中受到CSS规则的意外影响。

## 2. 初始渲染的过渡

可以通过 `appear` attribute 设置节点在初始渲染的过渡：

## 3. 多个元素之间的过渡

你也可以通过`v-if`/`v-else`来完成元素之间的过渡。最常见的多标签过渡是一个列表和描述这个列表为空消息的元素。

实际上，通过使用`v-if` / `v-else-if` / `v-else`或将单个元素绑定到一个动态property，可以在任意数量的元素之间进行过渡。

### 3.1 过渡模式

`<transition>`的默认行为——进入和离开同时发生。

两种模式：
- `in-out`：新元素先进行进入过渡，完成之后当前元素过渡离开；
- `out-in`：当前元素先进行离开过渡，完成之后新元素过渡进入。

很快你就会发现`out-in`是你大多数时候想要的状态😀

### 4. 多个组件之间的过渡

组件之间的过渡更简单——我们甚至都不需要`key`属性。取而代之的是，我们包裹了一个动态组件：

