## 1. 从vuex迁移

Pinia每个store都需要一个`id`类似于 Vuex 中的命名空间。

Pinia 的目录通常被命名为`stores`而不是`store`。这是为了强调Pinia使用多个store，而不是 Vuex 中的单个 store。

迁移期间您可以将Pinia和Vuex混合在一起使用。

几个步骤如下：

1. `id`为store 添加一个 required，你可能希望保持这个和之前的命名空间一样。
2. `state`如果它不是一个函数，则转换为一个函数
3. 转变`getters`
   1. 删除任何以相同名称返回状态的getter，这些不是必须的，因为您可以直接从store实例访问任何状态
   2. 如果您需要访问其他getter，使用`this`代替第二个参数。记住如果你使用`this`时你必须使用一个普通函数代替箭头函数，注意你还必须指定返回类型如果你使用TS的话（TS的一个限制）
   3. 如果使用`useState`或`rootGetters`参数，替换它们通过直接导入其他store。
   4. 转化`actions`
      1. 移除第一个参数`context`，在所有使用context的地方使用`this`代替；
      2. 如果使用其他store，直接导入
   5. 转换`mutations`
      1. Muatation不在存在，可以使用`actions`代替，或者在组件中直接通过store进行赋值
      2. 如果转换成actions，移除第一个`state`参数，在所有使用`state`的地方使用`this`代替。
      3. 一个重置初始状态的mutation可以使用`$reset`方法。

### 1.1 高级 Vuex 应用

#### 1.1.1 动态模块

无需在Pania中动态注册模块。store在设计上是动态的，尽在需要时才注册。如果一个store从来没有被使用过，它就永远不会被“注册”。

## 2. HMR （模块热替换）

Pinia支持热模块替换，

目前，只有Vite得到官方支持。

## 3. 组合 stores

如果两个或更多store相互使用，则它们不能通过getters或actions。

### 3.1 嵌套stores

直接导入使用

### 3.2 共享Getters

直接导入使用

### 3.3 共享Actions

直接导入使用

