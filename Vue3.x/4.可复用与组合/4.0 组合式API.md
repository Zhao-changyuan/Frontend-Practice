## 介绍

`setup` 的调用发生在 `data` property、`computed` property 或 `methods` 被解析之前。

在Vue 3.0中，我们可以通过一个新的 `ref` 函数使任何响应式变量在任何地方起作用。

在任何值周围都有一个封装对象，这样我们就可以在整个应用中安全地传递它，而不必担心在某个地方失去它的响应性。 

## Setup

使用 `setup` 函数时，它将接收两个参数：

1. `props`
2. `context`

因为 `props` 是响应式的，你不能使用ES6解构，它会消除 prop 的响应性。

`context` 中的`attrs` 和 `slots` 是有状态的对象，他们总是会随组件本身的更新而更新。这意味着你应该避免对它们进行解构，并始终以`attrs.x` 或 `slots.x` 的方式引用 property。

在 `setup()` 内部，`this` 不是该活跃实例的引用。

## 生命周期钩子

你可以通过在生命周期钩子前面加上 “on” 来访问组件的生命周期钩子。

因为 `setup` 是围绕 `beforeCreate` 和 `created` 生命周期钩子运行的，所以不需要显示地定义它们。换句话说，在这些钩子中编写的任何代码都应该直接在 `setup` 函数中编写。

setup 函数中可调用的钩子如下：

- onBeforeMount
- onMounted
- onBeforeUpdate
- onUpdated
- onBeforeUnmount
- onUnmounted
- onErrprCaptured
- onRenderTracked
- onRenderTriggered
- onActivated
- onDeactivated

## Provide / Inject

在使用响应式的 provide / inject 值时，**建议尽可能将对响应式 property 的所有修改限制在定义 provide 的组件内部。**

## 模板引用

