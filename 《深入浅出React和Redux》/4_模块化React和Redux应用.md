## 4.1 模块化应用要点

从架构出发，当我们开始一个新的应用的时候，有几件事情是一定要考虑清楚的：

- 代码文件的组织结构
- 确定模块的边界
- Store的状态树设计

## 4.2 代码文件的组织方式

### 4.2.1 按角色组织

reducers、actions、components和containers。

### 4.2.2 按功能组织

就是把完成同一应用功能的代码放在一个目录下，一个应用功能包含多个角色的代码。

## 4.3 模块接口

在理想情况下，我们应该通过增加打码就能增加系统的功能，而不是通过对现有代码的修改来增加功能。

虽然每个模块目录下都会有一个actionTypes.js文件定义action类型，但是通常不会把actionTypes中内容作为模块的接口之一导出。

## 4.4 状态树的设计

状态树要遵循如下几个原则：

- 一个模块控制一个状态节点；
- 避免冗余数据；
- 树形结构扁平

### 4.4.1 一个状态节点只属于一个模块

实际上，Redux Store上的全部状态，在任何时候，对任何模块都是开放的，通过store.getState()总能够获取当前整个状态树的数据，但是只能更新自己相关那一部分模块的数据。

### 4.4.2 避免冗余数据

Redux中相对于性能问题，数据一致性的问题才更加重要。

### 4.4.3 树形结构扁平

## 4.5 Todo应用实例