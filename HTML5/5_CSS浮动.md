## 目标

- 能够说出为什么需要浮动
- 能够说出浮动的排列特性
- 能够说出3种最常见的布局方式
- 能够说出为什么需要清除浮动
- 能够写出至少2种清除浮动的方法
- 能够利用Photoshop实现基本的切图
- 能够利用Photoshop插件实现切图
- 能够完成学成在线的页面布局

### 1. 浮动（float）

#### 1.1 传统网页布局的三种方式

- 普通流（标准流）
- 浮动
- 定位

#### 1.2 标准流

就是变迁按照规定号默认方式排列

#### 1.3 为什么需要浮动？

浮动可以改变元素标签默认的排列方式。

浮动最典型的应用：可以让多个块级元素一行内排列显示。

**网页布局第一准则：多个块级元素纵向排列找标准流，多个块级元素横向排列找浮动。**

#### 1.4 什么是浮动？

float属性用于创建浮动框，将其移动到一边，知道左边缘或右边缘触及包含块或另一个浮动框的边缘。

none: 默认值 不浮动

left

right

#### 1.5 浮动特性（重难点）

1. 浮动元素会脱离标准流（脱标），脱离标准普通流（浮）移动到指定位置（动），漂浮在普通流的上面【但是它只影响它后面的标准流】。浮动的盒子不再保留原先的位置。
2. 浮动的元素会一行内显示并且元素顶部对齐。如果多个盒子都设置了浮动，则他们会按照属性值一行内显示并且顶端对齐排列。**注意：**浮动的元素是相互贴靠在一起的（不会有缝隙），如果父级宽度装不下这些浮动的盒子，多出的盒子会另起一行对齐。
3. 浮动元素会具有行内块元素的特性。任何元素都可以浮动。如果行内元素设置了浮动，则不需要转换为行内块元素就可以直接设置高度和宽度。添加浮动后，它的大小根据内容来决定。
4. 浮动的元素不会有外边距合并的问题

#### 1.6 浮动元素经常和标准流父级搭配使用

为了约束浮动元素位置，我们网页布局一般采取的策略是：

先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置。

**网页布局第二准则：先设置盒子大小，之后设置盒子位置。**

### 2. 常见网页布局

#### 2.1 常见网页布局

#### 2.2 浮动布局注意点

##### **1. 浮动和标准流的父盒子搭配。**

先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置。

##### **2. 一个元素浮动了，理论上其余的兄弟元素也要浮动。**

一个盒子里面有多个子盒子，如果其中一个盒子浮动了，那么其他兄弟也应该浮动，以防止引起问题。

**浮动的盒子只会影响浮动盒子后面的标准流，不会影响前面的标准流。**

**理想中的状态，让子盒子撑开父亲，有多少孩子，我父盒子就有多高。**

### 3.  清除浮动

#### 3.1 为什么需要清除浮动？

由于父级盒子很多情况下，不方便设置高度，但是子盒子浮动又不占有位置，最后父级盒子高度为0时，就会影响父级盒子后面的标准流盒子。

子盒子浮动，脱标，父盒子没有高度就为0，不会被撑开盒子。

- 由于浮动元素不再占用原文档流的位置，所以它会对后面的元素排版产生影响。

#### 3.2 清除浮动本质

- 清除浮动的本质是清除浮动元素造成的影响
- 如果父盒子本身有高度，则不需要清除浮动
- 清除浮动之后，父级就会根据浮动的子盒子自动检测高度。父级有了高度，就不会影响下面的标准流了。

语法：

```
选择器 { clear: 属性值; }
```

left right both

我们实际工作总，几乎只用clear: both;

清除浮动的策略是：**闭合浮动**，只让浮动在父盒子内部影响，不影响父盒子外面的其他盒子。

#### 3.3 清除浮动方法

1. 额外标签法也称作**隔墙法**，是W3C推荐的做法。
2. 父级添加overflow属性。
3. 父级添加after伪元素。
4. 父级添加双伪元素。

##### 3.3.1 额外标签法

**这个新增的盒子必须是块级元素。**

- 优点：通俗易懂，书写方便。
- 缺点：添加许多无意义的标签，结构化较差

##### 3.3.2 父级overflow

可以给父级添加overflow属性，将其属性值设置为hidden、auto或scroll。

最常用的是添加`overflow: hidden;`

- 优点：代码简洁
- 缺点：无法显示溢出的部分。

##### 3.3.3 :after 伪元素法

:after方式是额外标签法的升级版。也是给父元素添加。

```css
.clearfix:after {
    content: "";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
}

.clearfix { /* IE6/7专用 */
    *zoom: 1;
}
```

- 优点：没有增加标签，结构更简单
- 缺点：照顾低版本浏览器

##### 3.3.4 双伪元素清除浮动

也是给父元素添加

```css
.clearfix:before, .clearfix:after {
    content: "";
    display: table;
}
.clearfix:after {
    clear: both;
}
.clearfix { *zoom: 1; }
```

#### 3.4 清除浮动总结

**为什么需要清除浮动？**

1. 父级没高度
2. 子盒子浮动了
3. 影响下面布局了，我们就应该清除浮动。

| 清除浮动的方式          | 优点               | 缺点                               |
| ----------------------- | ------------------ | ---------------------------------- |
| 1.额外标签法（隔墙法）  | 通俗易懂，书写方便 | 添加虚读无意义的标签，结构化较差。 |
| 2.父级overflow: hidden; | 书写简单           | 溢出隐藏                           |
| 3.父级after伪元素       | 结构语义正确       | 浏览器兼容问题                     |
| 4.父级双伪元素          | 结构语义化正确     | 浏览器兼容问题                     |

### 4. PS切图

#### 4.1 常见的图片格式

1. jpg图像格式：JPEG（.JPG）对色彩的信息保留较好，高清，颜色较多，我们**产品类的图片经常用jpg格式的**
2. gif图像格式：GIF格式最多只能存储256色，所以通常用来显示简单图形及字体，但是可以保存透明背景和动画效果，**实际经常用于一些图片小动画效果。**
3. png图像格式是一种新兴的网络图形格式，结合了GIF和JPEG的优点，具有存储形式丰富的特点，能够保持透明背景，**如果想要切成背景透明的图片，请选择png格式。**
4. PSD图像格式PSD格式是Photoshop的专用格式，里面可以存放图层、通道、遮罩等多种设计稿。**对我们前端人员来说，最大的优点，我们可以直接从上面赋值文字，获得图片，还可以测量大小和距离。**

PS有很多的切图方式：图层切图、切片切图、PS插件切图等。

#### 4.2 图层切图

最简单的切图方式：右击图层->快速导出为PNG。

但是很多情况下，我们需要合并图片再导出：

1. 选中需要的图层：图层菜单->合并图层（ctrl+e）
2. 右击->快速导出为PNG

最好方法是：沟通

#### 4.3 切片切图

1. 利用切片选中图片
   1. 利用切片工具手动划出
2. 导出选中的图片
   1. 文件菜单->导出->存储为web设备所用格式->选择我们要的图片格式->存储

#### 4.4 PS插件切图

Cutterman是一款运行在Photoshop中的插件，能够自动将你需要的图层进行输出，以代替传统的手动“导出web所用格式”以及使用切片工具进行挨个切图的繁琐流程。

### 5. 学成在线案例

#### 5.1 准备素材和工具

#### 5.2 案例准备工作

结构与样式相分离

#### 5.3 CSS属性书写顺序（重点）

建议遵循以下顺序：

1. 布局定位属性：display / position / float / clear / visibility / overflow（建议display第一个写，毕竟关系到模式）
2. 自身属性：width / height / margin /padding / border / background
3. 文本属性：color / font / text-decoration / text-align / vertical-align / white-space / break-word
4. 其他属性（CSS3）：content / cursor / border-radius / box-shadow / text-shadow / background: linear-gradient...

#### 5.4 页面布局整体思路

为了提高网页制作的效率，布局时通常有一下的整体思路：

1. 必须确定页面的版心（可视区），我们测量可得知。
2. 分析页面中的行模块，以及每个行模块中的列模块。其实页面布局第一准则。
3. 一行中的列模块经常浮动布局，先确定每个列的大小，之后确定列的位置。页面布局第二准则。
4. 制作HTML结构。我们还是遵循：现有结构，后有样式的原则。结构永远最重要。
5. 所以，先理清布局结构，再写代码尤为重要，这需要我们多写多积累。

#### 5.5 确定版心

#### 5.6 头部制作

导航栏注意点：

实际开发中，我们不会直接用链接a而是用li包含链接（li+a）的做法。

1. li+a语义更清晰，一看这就是有条理的列表型内容。
2. 如果直接用a，搜索引擎容易辨别为有堆砌关键字嫌疑（故意堆砌关键字容易被搜索引擎有降权的风险），从而影响网站排名。

注意：

1. 让导航栏一行显示，给li加浮动，因为li是块级元素，需要一行显示。
2. 这个nav导航栏可以不给宽度，将来可以继续添加其余文字
3. 因为导航栏里面文字不一样多，所以最后给链接a左右padding撑开盒子，而不是指定宽度。

#### 5.7 banner 制作

浮动的盒子不会有外边距合并的问题。