### 3.1 架构升级

个人能力越强，能做的事也越多，有了Node.js，能做的会更多！

#### 3.1.1 从LAMP到MEAN

LAMP: Linux Apache MySQL PHP

MEAN: MongoDB Express Angular Node.js

时至今日，在微服务架构盛行的今天，MEAN已经因为技术栈过于复杂而被大家慢慢淡忘。

#### 3.1.2 前后端分离

请求-->Nginx-->Node.js（前端）



#### 3.1.3 页面即服务

#### 3.1.4 场景决定选型

Node.js擅长的场景：

- 大前端：都遵循JavaScript语法规则，使用Node.js座前后端分离是非常合适的。
- API接口：典型的Web应用，绝大部分是I/O密集型应用，是Node.js最擅长的。
- RPC服务：主要是对OLTP（联机事务处理过程）数据库进行操作，Node.js可以支持，但如果是复杂计算，使用Go或Java也是极好的。

**合作共赢才是最好的选择，技术选型不要过于关注技术本身，二是要关注它适合用来做什么，在对应的场景下才能够实现业务价值。**

### 3.2 贯穿开发全过程

Node.js天生就是为了解决后端并发编程而生的。

#### 3.2.1 静态API

为了能让让4端（App端、H5端、PC端、后端）并行开发，最好的方式就是在开发流程中加一层静态API（也可叫Mock API）给出模拟的接口，在测试前预留出和正式接口联调的时间。

#### 3.2.2 现代Web开发

**预处理器**

前端预处理可分为模板引擎、CSS预处理器、JavaScript友好语言3种。

**跨平台**

跨平台指的是跨H5端、PC端、移动端、物联网。

PC端开发是最近两年才火起来的，通过Web技术开发跨平台PC端是一个相对不错的选型。

**构建工具**

构建工具的源码实现都不会特别复杂。

#### 3.2.3 后端开发

**Web应用**

| 框架名称 | 特性                        | 点评              |
| -------- | --------------------------- | ----------------- |
| Koa      | 专注于异步流程改进          | 下一代Web框架     |
| Egg      | 基于Koa，在开发上有极大便利 | 企业级Web开发框架 |

**API代理**

在包含多种交互的情况下，理想的情况是使用一样的模型，提供基于模型的定制API，在Node.js层提供统一的模型，然后再包装成前端需要的API，这样的API才是对前端友好的API。

> 在前端渲染之余，加一层API Proxy是非常有必要的。

最了解前端的只有前端，使用API Proxy层能够较好应变，在中间层进行各种转换处理，让API对前端开发更加友好。

**服务组装**

复杂的跨服务业务需要对服务进行组装。

**API网关**

Node.js擅长I/O操作，请求转发其实就是代理，对于API网关来说，在这个基础上进行扩展即可。

#### Serverless

Severless是一种基于互联网技术的架构理念，采用函数即服务（Function as a Service, FaaS）架构理念，让开发者只关注应用逻辑，而不必将全部功能都在服务端时间，通过组合多个函数的功能来实现应用程序逻辑。

### 3.3 更多乐趣

编程是很枯燥的事，只有“玩”出乐趣才不会觉得累。

#### 3.3.1 更多应用场景

通常习惯将Node.js的应用场景分为以下7类：

- 作为基础设置用于前端开发
- 作为命令行辅助工具
- 用于移动端（Cordova）和PC端（NW.js和Electron）
- 实现前端组件化，完成组件的打包构建，增加HTTP代理等功能
- 用于架构设计，实现前后端分离。
- 性能优化，反爬虫与爬虫。
- 实现全栈



#### 3.3.4 全栈之路

全栈是一种信仰，不是拿来吹牛的，二是用来解决更多问题、应对更多变化的，做大全栈可以让自己的**知识体系不留空白**，享受自我实现的极致快乐。

**技术是门手艺，厚积才能薄发。**

